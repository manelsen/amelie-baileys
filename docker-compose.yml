services:
  amelie:
    build: .
    container_name: amelie-bot
    restart: unless-stopped
    env_file:
      - .env
    environment:
      - NODE_ENV=production
      - TZ=America/Sao_Paulo
    volumes:
      # Persistência da sessão do WhatsApp (Auth) e Banco de Dados (NeDB)
      - ./db:/app/db
      # Persistência de Logs
      - ./logs:/app/logs
      # Arquivos temporários (opcional, mas bom para debug de notificações pendentes)
      - ./temp:/app/temp
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
